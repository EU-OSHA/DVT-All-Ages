define(function(require){"use strict";return{generateController:function(module,ctrlName){return angular.module(module).controller(ctrlName,function($scope,$rootScope,$log,$window,$cookies,configService){var cookieLife=new Date;cookieLife.setDate(cookieLife.getDate()+360);var cookieName="disclaimerCookie";window.screen.width<1024&&!$cookies.get(cookieName)?($rootScope.hasAgreedCookies&&$cookies.put(cookieName,!0,{expires:cookieLife}),$scope.showwidthdisclaimer=!0):($scope.showwidthdisclaimer=!1,$rootScope.hasAgreedCookies&&$cookies.put(cookieName,!1,{expires:cookieLife}),angular.element("body").hasClass("hasCookies")&&angular.element("body").removeClass("hasCookies")),angular.element("#google_translate_element a.goog-te-menu-value").on("click",function(){if($rootScope.hasAgreedCookies){angular.element(angular.element("iframe")[0].contentWindow.document).find("a.goog-te-menu2-item ").on("click",function(event){var language;"div"===event.target.tagName.toLowerCase()?(language=angular.element(event.target).find("span.text")[0].innerHTML,$log.debug("Selected language to translate by google : "+language)):(language=event.target.innerHTML,$log.debug("Selected language to translate by google : "+language)),window._paq.push(["trackEvent","googleTranslateMenu","languageTranslate",language,11])})}}),$rootScope.hasAgreedCookies=!1,$rootScope.declinedCookies=!1,$scope.widthAgree=function(){$scope.showwidthdisclaimer=!1,$rootScope.hasAgreedCookies&&$cookies.put(cookieName,!1,{expires:cookieLife})},$scope.consentAgree=function(){$rootScope.hasAgreedCookies=!0,configService.tooglePiwik(!1),angular.element("body").hasClass("hasCookies")&&angular.element("body").removeClass("hasCookies")},$scope.cookiesDecline=function(){$rootScope.declinedCookies=!0,configService.tooglePiwik(!0),angular.element("body").hasClass("hasCookies")&&angular.element("body").removeClass("hasCookies")},$scope.hasDeclined=function(){return $rootScope.declinedCookies}})}}});