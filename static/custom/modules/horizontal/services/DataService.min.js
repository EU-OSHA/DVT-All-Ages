define(function(){var DataService=function($q,$http,$log,configService){function promise(url){return $http.get(url)}var url=configService.getPilotDataPath()+"&dataAccessId=getCountries",dataset=promise(url);return{getAllCountries:function(){var url=configService.getPilotDataPath()+"&dataAccessId=getCountries";return $log.debug("getAllCountries url:"+url),promise(url)},structureCountries:dataset,getCountriesNotEU:function(){$log.debug(url);var url=configService.getPilotDataPath()+"&dataAccessId=getCountriesNotEU";return $log.debug("getCountriesNotEU url: "+url),promise(url)},getCountryCardGrouping:function(country){var url=configService.getCountriesDataPath()+"&dataAccessId=getCCSectionGrouping&parampCountry="+country;return $log.debug("getCountryCardGrouping url: "+url),promise(url)},getCountryCardGroupingCountries:function(group){var url=configService.getPilotDataPath()+"&dataAccessId=getApproachesMap&parampGroup="+group;return $log.debug("getCountryCardGroupingCountries url: "+url),promise(url)},getCCMainPolicies:function(country,subject){var url=configService.getCountriesDataPath()+"&dataAccessId=getCCMainPolicies&parampCountry="+country+"&paramsubject="+subject;return $log.debug("getCCMainPolicies url: "+url),promise(url)},getCCMainPolicies2:function(country){var url=configService.getCountriesDataPath()+"&dataAccessId=getCCMainPolicies2&parampCountry="+country;return $log.debug("getCCMainPolicies url: "+url),promise(url)},getCountryCardInitiatives:function(country){var url=configService.getCountriesDataPath()+"&dataAccessId=getCCOtherPolicies&parampCountry="+country;return $log.debug("getCountryCardInitiatives url: "+url),promise(url)},getCountryCardCirumstances:function(country){var url=configService.getPilotDataPath()+"&dataAccessId=getCountryCardCirumstances&paramparam_country="+country;return $log.debug("getCountryCardCirumstances url: "+url),promise(url)},getCountryCardChallenges:function(country){var url=configService.getPilotDataPath()+"&dataAccessId=getCountryCardChallenges&paramparam_country="+country;return $log.debug("getCountryCardChallenges url: "+url),promise(url)},getCountryCardStakeholders:function(country){var url=configService.getCountriesDataPath()+"&dataAccessId=getCountryCardStakeholders&paramparam_country="+country;return $log.debug("getCountryCardStakeholders url: "+url),promise(url)},getLinkReport:function(country){var url=configService.getCountriesDataPath()+"&dataAccessId=getLinkReport&paramparam_country="+country;return $log.debug("getLinkReport url: "+url),promise(url)},getLinkInfographics:function(country){var url=configService.getCountriesDataPath()+"&dataAccessId=getLinkInfographics&paramparam_country="+country;return $log.debug("getLinkInfographics url: "+url),promise(url)},getCSPSingleCriteriaIndicators:function(country){var url=configService.getPilotDataPath()+"&dataAccessId=getCSPSingleCriteriaIndicators&paramparam_country="+country;return $log.debug("getCSPSingleCriteriaIndicators url: "+url),promise(url)},getCSPDoubleCriteriaIndicators:function(country){var url=configService.getPilotDataPath()+"&dataAccessId=getCSPDoubleCriteriaIndicators&paramparam_country="+country;return $log.debug("getCSPDoubleCriteriaIndicators url: "+url),promise(url)},getPLClassificationFilter:function(){var url=configService.getPolicyDataPath()+"&dataAccessId=getPLClassificationFilter";return $log.debug("getPLClassificationFilter url: "+url),promise(url)},getPLList:function(policy,classifications,countries){var block1=policy?".*"+policy:".*",block2=classifications.length<=0?".*":classifications.join("|"),block3=countries.length<=0?".*":countries.join("|"),url=configService.getPolicyDataPath()+"&dataAccessId=getPLList&parampolicy="+block1+"&paramclassifications="+block2+"&paramcountries="+block3;return $log.debug("getPLList url: "+url),promise(url)},getPolicyDetail:function(policyId){var url=configService.getPolicyDataPath()+"&dataAccessId=getPLDetail&parampolicy="+policyId;return $log.debug("getPolicyDetail url: "+url),promise(url)},getIndicatorMetadata:function(Id){var url=configService.getPilotDataPath()+"&dataAccessId=getIndicatorMetadata&parampIndicator="+Id;return $log.debug("getIndicatorMetadata url: "+url),promise(url)},getGroupId:function(Country){var url=configService.getAPDataPath()+"&dataAccessId=getCountryGroupId&parampCountry="+Country;return $log.debug("getGroupId url: "+url),promise(url)},getCountries:function(){var url=configService.getPilotDataPath()+"&dataAccessId=getApproachesMap";return $log.debug("getCountries url: "+url),promise(url)},getAPTab2MainPolicies:function(group){var url=configService.getAPDataPath()+"&dataAccessId=getAPTab2MainPolicies&parampGroup="+group;return $log.debug("getAPTab2MainPolicies url: "+url),promise(url)},getAPTab1GroupDesc:function(group){var url=configService.getAPDataPath()+"&dataAccessId=getAPTab1GroupFactorBlocks&paramapproach="+group;return $log.debug("getAPTab1GroupDesc url: "+url),promise(url)},getGroupingInformation:function(){var url=configService.getAPDataPath()+"&dataAccessId=getGroupingInformation";return $log.debug("getGroupingInformation url: "+url),promise(url)},getGroupCountryList:function(){var url=configService.getCountriesDataPath()+"&dataAccessId=getGroupCountryList";return $log.debug("getGroupCountryList url: "+url),promise(url)},createGroupCountryList:function($scope,result){$scope.groupList=[];var rows=result.resultset,row={};for(index in rows)row=rows[index],$scope.groupList[row[0]]||($scope.groupList[row[0]]={}),$scope.groupList[row[0]].country=row[1],$scope.groupList[row[0]].group=row[2];return $log.debug($scope.groupList),$scope},getStoryAndIndicatorMetadata:function(Id){var url=configService.getPilotDataPath()+"&dataAccessId=getStoryAndIndicatorMetadata&parampIndicator="+Id;return $log.debug("getStoryAndIndicatorMetadata url: "+url),promise(url)},getOlderWorkersEmployment:function(){var url=configService.getIssueDataPath()+"&dataAccessId=getIssueStory2Main";return $log.debug("getOlderWorkersEmployment url: "+url),promise(url)},getFemaleOlderWorkersEmployment:function(){var url=configService.getIssueDataPath()+"&dataAccessId=getIssueStory2MainFemales";return $log.debug("getOlderWorkersEmployment url: "+url),promise(url)},getMaleOlderWorkersEmployment:function(){var url=configService.getIssueDataPath()+"&dataAccessId=getIssueStory2MainMales";return $log.debug("getOlderWorkersEmployment url: "+url),promise(url)},getDissatisfactionWorkingConditions35:function(){var url=configService.getIssueDataPath()+"&dataAccessId=getIssueStory5Main35";return $log.debug("getDissatisfactionWorkingConditions url: "+url),promise(url)},getDissatisfactionWorkingConditions77:function(){var url=configService.getIssueDataPath()+"&dataAccessId=getIssueStory5Main77";return $log.debug("getDissatisfactionWorkingConditions url: "+url),promise(url)},getGlossaryTerms:function(term){var term=term?".*"+term:".*",url=configService.getGlossaryDataPath()+"&dataAccessId=getGlossaryTerms&paramterm="+term;return $log.debug("getGlossaryTerms url: "+url),promise(url)},dataMapper:function(results){return results.data.resultset.map(function(row){var elemModeled={};return row.forEach(function(elem,index,array){elemModeled[""+results.data.metadata[index].colName.replace(/\s+/g,"-")]=row[index]}),elemModeled})}}};return DataService.$inject=["$q","$http","$log","configService"],DataService});