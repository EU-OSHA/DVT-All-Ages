define(function(require){"use strict";function ZylkCountryAnchorDirective($stateParams){return{restrict:"E",transclude:!0,scope:{},controller:["$scope","$state","$stateParams","configService","countriesService","$http","$log","$document","$window","$timeout",function($scope,$state,$stateParams,configService,countriesService,$http,$log,$document,$window,$timeout){"country-card"==$state.current.name?$scope.anchors=require("json!vertical/country-card/anchor-items"):"country-comparison"==$state.current.name&&($scope.anchors=require("json!vertical/country-comparison/anchor-items"));$scope.gotoAnchor=function(elemId,$event,correction){$log.debug(elemId);var section=angular.element("#"+elemId);angular.element("#containerMenu").addClass("affix"),angular.element("#formCountryInsigth").addClass("affix");"country-card"==$state.current.name?(setTimeout(function(){var incrHeight=0;$(window).width()<769&&(incrHeight=80);var altura=$("#formCountryInsigth").height()+$("#containerMenu").height()-incrHeight;$document.scrollToElementAnimated(section,altura,500)},500),$state.transitionTo("country-card",{pCountry1:$stateParams.pCountry1,anchor:elemId},{notify:!1})):"country-comparison"==$state.current.name&&(setTimeout(function(){var incrHeight=0;$(window).width()<769&&(incrHeight=80);var altura=$("#formCountryInsigth").height()+$("#containerMenu").height()+2*$(".sectionIconAndTitle:eq(0)").height()-incrHeight;$document.scrollToElementAnimated(section,altura,500)},500),$state.transitionTo("country-comparison",{pCountry1:$stateParams.pCountry1,pCountry2:$stateParams.pCountry2,anchor:elemId},{notify:!1}))},$scope.gotoTop=function(elemId,$event,correction){$document.scrollTo(0,0)},null!=$stateParams.anchor&&$timeout(function(){$log.debug("$stateParams.anchor: "+$stateParams.anchor),$scope.gotoAnchor($stateParams.anchor,null,!0)},countriesService.getAnchorTime[$state.current.name])}],templateUrl:configService.getVerticalDirectiveTplPath("countries/country-insight","anchor")}}var configService=require("horizontal/config/configService");return ZylkCountryAnchorDirective.$inject=["$location","$anchorScroll"],ZylkCountryAnchorDirective});