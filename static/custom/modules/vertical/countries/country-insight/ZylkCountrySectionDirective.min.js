define(function(require){"use strict";function nextId(){return sequence++}function ZylkCountrySectionDirective($state,$stateParams,$http,dataService,$log,dvtUtils,countriesService,$compile){return{restrict:"E",require:[],priority:1001,transclude:!0,scope:{data:"=",type:"=",country:"=",mapPromise:"=",groupList:"=",backgroundShapeColor:"=",groupColor:"=",promises:"=",parameters:"="},controller:["$scope","$element","$attrs","$stateParams",function($scope,$element,$attrs,$stateParams){$scope.types={facts:i18n.section.ff,grouping:i18n.section.grouping,context:i18n.section.context,challenges:i18n.section.challenges,stakeholders:i18n.section.stakeholders},$scope.types["main-initiatives"]=i18n.section.policies,$scope.types["other-initiatives"]=i18n.section.iniciatives,$scope.section={id:"section-"+$attrs.type,country:$scope.country||$stateParams.pCountry1,class:"col-lg-12 clearfix row-container country",caption:{id:"section-"+$attrs.type+"-caption",class:"col-lg-12",name:$scope.types[$attrs.type]},content:{id:"section-"+$attrs.type+"-content",class:"grouping"!=$attrs.type||$attrs.compare&&void 0!==$attrs.compare?"col-lg-12":"col-lg-6"}}}],templateUrl:function(elem,attr){return"grouping"==attr.type?configService.getVerticalDirectiveTplPath("countries/country-insight/partials","section.grouping"):configService.getVerticalDirectiveTplPath("countries/country-insight/partials","section")},link:function(scope,element,attributes){if(attributes.compare&&void 0!==attributes.compare&&"1"!==attributes.compare){if("2"==attributes.compare){var country=$stateParams.pCountry2||"RO";$log.debug("Country2: "+country)}}else{var country=$stateParams.pCountry1||"RO";$log.debug("Country1: "+country)}switch(attributes.type){case"facts":nextId();$log.error("Facts & figures on country cards/comparison html template ");break;case"grouping":countriesService.buildGroupingBlocks(scope,country,element,attributes);break;case"main-initiatives":countriesService.buildPolicyBlocks(scope,country,element,attributes);break;case"other-initiatives":countriesService.buildOthersInitiativesBlocks(scope,country,element,attributes);break;case"context":countriesService.buildCircumstancesBlocks(scope,country,element,attributes);break;case"challenges":countriesService.buildChallengesBlocks(scope,country,element,attributes);break;case"stakeholders":countriesService.buildStakeHoldersBlocks(scope,country,element,attributes)}attributes.colorIndex&&(scope.colorIndex=attributes.colorIndex)}}}var sequence=1,configService=require("horizontal/config/configService"),i18n=require("json!vertical/countries/i18n");return ZylkCountrySectionDirective.$inject=["$state","$stateParams","$http","dataService","$log","dvtUtils","countriesService","$compile"],ZylkCountrySectionDirective});