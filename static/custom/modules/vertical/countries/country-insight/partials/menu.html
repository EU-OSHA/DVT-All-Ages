<zylk-dashboard parameters="params" promises="promises" >
<div id="country-analyse">
    <!--id formCountryInsigth is important for fluid functionality-->
    <div id="formCountryInsigth" bs-affix data-offset-top="100">
        <form class="selecter" style="z-index: 1" ng-controller="CountriesController" >
            <div class="col-xs-6 col-sm-6 col-md-6 text-right firstCompared">
                <label data-ng-bind=":: i18n.see_country" class="col-xs-12 col-md-5 col-lg-5"></label>
                <zylk-select ng-model="pCountry1" parameter="pCountry1" query="getCountryListWithoutFilter"
                             cda="all-ages/dashboards/countrycardata.cda" ng-change="refreshHash()" class="col-xs-12 col-md-7 col-lg-7"
                             ></zylk-select>

            </div>

            <div class="col-xs-6 col-sm-6 col-md-6 text-left sepCompared">
                <label data-ng-bind="::i18n.compare" class="col-xs-12 col-md-5 col-lg-5"></label>
                <zylk-select-redirect invalidate-default-selection="true" ng-model="pCountry2" parameter="pCountry2"
                                      params="[['pCountry1','pCountry1']]" listen-to="['pCountry1']"
                                      query="getCountryListWithout" cda="all-ages/dashboards/countrycardata.cda"
                                      ng-blur="CountryComparisonRedirect()" class="col-xs-12 col-md-7 col-lg-7"></zylk-select-redirect>
            </div>
            <div class="clearfix">
                <zylk-country-anchor></zylk-country-anchor>
            </div>
        </form>
    </div>

    <div class="graphBG col-xs-12">

        <div class="col-xs-3 col-md-3">
            <div class="shapeContainer">
                <i class="mg map-{{::country.toLowerCase()}} mg-8x"></i>
            </div>
        </div>
        <div class="col-xs-9 col-md-6">
            <zylk-pyramid-chart data-ng-cloack
                                query="getPyramidDataWhitYear" cda="{{ :: dashboard.cda }}"
                                width=493 height=375 orientation="horizontal"
                                listen-to="['pCountry1']" params="[['pCountry', 'pCountry1'],['pYears','2014;2060']]"
                                css-class="col-xs-6 col-sm-6 col-md-6 col-lg-6 pyramid"
                                stacked=true id="61"
                                p-x-labels=1 p-y-labels=1 colors="colors" colors2="colors"
                                title="{{ :: i18n.graphics.pyramid_title }}"
                                long-title="{{ ::i18n.graphics.pyramid_long_title}}"
                                main-bar-size="15"  type="pyramid" id="60"
                                max-functional-legend="{{ ::i18n.graphics.pyramid_functional_legend }}"
                                >

            </zylk-pyramid-chart>
        </div>
        <div class="col-xs-12 col-md-3 hidden-print">
            <div>
                <a class="know-more external" id="linkReport" href="#" target="_blank" data-ng-bind=":: i18n.report"></a>
            </div>
            <div>
                <a class="know-more" ui-sref="additional-resources" data-ng-bind=":: i18n.infographics"></a>
            </div>
        </div>

    </div>
</div>
</zylk-dashboard>