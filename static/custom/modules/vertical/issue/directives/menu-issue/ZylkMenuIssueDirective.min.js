define(function(require){"use strict";function ZylkMenuIssueDirective(){return{restrict:"E",transclude:!0,scope:{},controller:["$scope","$state","$stateParams","configService","$http","$attrs","$location","$log",function($scope,$state,$stateParams,configService,$http,$attrs,$location,$log){$scope.items=require("json!vertical/issue/menu/menu-items");var pCountry1=$stateParams.pCountry1,pCountry2=$stateParams.pCountry2,itemsJson="[";for(i=0;i<$scope.items.length;i++){var link=$scope.items[i].sref,srefSplit=link.split("("),sref=srefSplit[0]+"({'pCountry1': "+pCountry1+", 'pCountry2': "+pCountry2+"})",id=$scope.items[i].id;itemsJson+='{ "id":"'+id+'","sref":"'+sref+'","html":"'+$scope.items[i].html+'","href":"'+("#!/key-issue/"+id+"/"+pCountry1+"/"+pCountry2)+'"},'}itemsJson=itemsJson.substring(0,itemsJson.length-1)+"]",$scope.itemsJsonTransformer=JSON.parse(itemsJson),$scope.isCurrentStateMenu=function(path){return path===$location.path().split("/")[2]?"selected":""}}],templateUrl:configService.getVerticalTplPath("issue/directives/menu-issue","menu")}}var configService=require("horizontal/config/configService");return ZylkMenuIssueDirective});